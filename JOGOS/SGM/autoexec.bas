00010 ' santa gift madness
00020 ' tbytecreator 2025
00040 ' --- Slot 0
00050 ' color 1
00060 DATA 00,03,06,0C,18,10,1F,12,10,18,08,0C,04,06,03,00
00070 DATA 90,90,60,30,18,08,F8,48,08,18,10,10,20,60,C0,00
00080 ' color 8
00090 DATA 00,00,01,03,07,0F,00,00,00,00,00,00,00,00,00,00
00100 DATA 00,00,80,C0,E0,F0,00,00,00,00,00,00,00,00,00,00
00110 ' color 15
00120 DATA 00,00,00,00,00,00,00,0D,0F,07,06,03,03,01,00,00
00130 DATA 60,60,00,00,00,00,00,B0,F0,E0,60,C0,C0,80,00,00
00140 ' --- Slot 3
00150 ' color 1
00160 DATA 0E,08,3C,20,20,20,20,30,30,20,20,20,21,3F,00,00
00170 DATA 70,10,3C,04,04,04,04,0C,0C,04,04,04,84,FC,00,00
00180 ' color 6
00190 DATA 01,07,03,01,01,01,01,0F,0F,01,01,01,00,00,00,00
00200 DATA 80,E0,C0,80,80,80,80,F0,F0,80,80,80,00,00,00,00
00210 ' color 15
00220 DATA 00,00,00,1E,1E,1E,1E,00,00,1E,1E,1E,1E,00,00,00
00230 DATA 00,00,00,78,78,78,78,00,00,78,78,78,78,00,00,00
00240 ' --- Slot 6
00250 ' color 1
00260 DATA 00,00,00,00,00,00,00,00,00,00,00,00,20,E1,A1,E1
00270 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,C0,40,C0
00280 ' color 11
00290 DATA 00,00,00,00,00,00,00,00,00,C0,61,3F,1E,00,00,00
00300 DATA 00,00,00,00,00,00,00,00,00,C0,80,00,00,00,00,00
00310 ' color 14
00320 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,00,40,00
00330 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
00340 ' color 15
00350 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
00360 DATA 00,00,00,00,00,00,00,00,00,00,00,00,00,00,80,00
00370 DATA *

01000 ' SETUP
01010 SCREEN1,2,0:KEY OFF
01020 PX=127:PD=1:PP=0:G=0
01030 TX=127:T=0
01040 DIM GF(10,2)
01050 DEFUSR1=&H41 : ' FUNCAO DESLIGA TELA
01060 DEFUSR2=&H44 : ' FUNCAO LIGA TELA
01070 BLOAD"XBASIC.BIN",R
01080 GOSUB 10000:' load sprites
01090 'CALL TURBO ON 

02000 ' UPDATE 
02020 S=STICK(0) 
02030 IF S = 3 THEN GOTO 2060
02040 IF S = 7 THEN GOTO 2070
02050 GOTO 2120
02060 TX=TX+16:GOTO 2120
02070 TX=TX-16:GOTO 2120
02120 PD = SGN(RND(1) - 0.5)
02130 PP = SGN(RND(1) - 0.5)
02140 IF PD = -1 THEN PX = PX-16
02150 IF PD = 1 THEN PX = PX+16
02160 IF PP = 1 THEN GOTO 8000
02170 IF G>0 THEN GOTO 7000

03000 ' DRAW
03010 A=USR1(0)
03020 PUT SPRITE 0,(PX,1),1,0:PUT SPRITE 1,(PX,1),8,1:PUT SPRITE 2,(PX,1),15,2
03030 ' LOOP QUE DESENHA OS PRESENTES
03040 FOR I=0 TO G-1
03050   FOR J=0 TO 2
03050   PUT SPRITE I+J+3,(GF(I,0),GF(I,1)),1,3:
03060   PUT SPRITE I+J+4,(GF(I,0),GF(I,1)),6,4:
03070   PUT SPRITE I+J+5,(GF(I,0),GF(I,1)),15,5
03080 NEXT I
03090 ' FIM DO LOOP DOS PRESENTES
03100 PUT SPRITE 6,(TX,175),1,6:PUT SPRITE 7,(TX,175),11,7
03110 PUT SPRITE 8,(TX,175),14,8:PUT SPRITE 9,(TX,175),15,9
03120 A=USR2(1)
03130 IF TIME<60 THEN GOTO 3130 ELSE TIME=0:T=T+1
03140 LOCATE 1,1:PRINT "FRAME: ";T
03150 LOCATE 1,2:PRINT "G: ";G
03160 GOTO 2000
03170 'CALL TURBO OFF

07000 ' UPDATE GIFTS
07010 FOR I=0 TO G-1
07020   GF(I,1)=GF(I,1)+4
07030 NEXT I
07040 GOTO 3000

08000 ' ADD GIFTS
08010 IF G>10 THEN GOTO 2170
08020 GF(G,0)=TX
08030 GF(G,1)=16
08040 G=G+1
08050 GOTO 2170

10000 REM -- LOAD SPRITES
10010 S=BASE(9)
10020 READ R$: IF R$="*" THEN RETURN ELSE VPOKE S,VAL("&H"+R$):S=S+1:GOTO 10020