10 DIMBO(2,3):DEFINTA-Z:ONSPRITEGOSUB100:ONINTERVAL=280GOSUB40:'ENVIRONMENT PREPARE
20 INTERVALON:SPRITEON:FORI=0TO2:BO(I,0)=0:BO(I,1)=0:BO(I,2)=0:BO(I,3)=0:NEXT:GOSUB50:NB=0:GOSUB40:XC=126:YC=96:FORI=2TO8:XD(I)=SGN(5-I):YD(8-I)=XD(I):NEXT:SWAPYD(0),YD(8):FORI=0TO1:S=STICK(J):I=0:XC=XC+XD(S):YC=YC+YD(S):GOSUB60:TB=NB:GOSUB70:NEXT
30 SOUND0,0:SOUND1,5:SOUND2,0:SOUND3,13:SOUND4,255:SOUND5,15:SOUND6,30:SOUND7,0:SOUND8,16:SOUND9,16:SOUND10,16:SOUND1,0:SOUND12,5:SOUND13,0:FORI=0TO30:NEXT:SCREEN3:CLS:OPEN"GRP:"FOROUTPUTAS#1:PSET(68,76):PRINT#1,"BANG!":CLOSE#1:FORI=1TO2000:NEXT:GOTO20
40 IFNB=3THENRETURNELSEVI=NBMOD2+1:IFVI=2THENBO(NB,0)=222:BO(NB,1)=16:BO(NB,2)=-4:BO(NB,3)=-4:NB=NB+1:RETURN ELSE BO(NB,0)=33:BO(NB,1)=16:BO(NB,2)=4:BO(NB,3)=-4:NB=NB+1:RETURN:' PUT A NEW LIGHT
50 SCREEN3:CLS:OPEN"GRP:"FOROUTPUTAS#1:PSET(68,76):PRINT#1,"RUN!":FORI=1TO1000:NEXT:CLOSE#1:SCREEN2,3,0:COLOR15,1,6:CLS:OPEN "SPRITES.DAT" FOR INPUT AS#1:S=BASE(9):FORM=0TO63:INPUT#1,R$:VPOKEM+S,VAL("&H"+R$):NEXT:CLOSE#1:RETURN:'INITIAL SCREEN
60 IF XC<0 OR XC>256 OR YC<0 OR YC>192 THEN SCREEN3:CLS:OPEN"GRP:"FOROUTPUTAS#1:PSET(75,40):PRINT#1,"YOU":PSET(15,90):PRINT#1,"ESCAPED!":CLOSE#1:FORI=1TO5000:NEXT:END ELSE PUTSPRITE0,(XC,YC),4,1:RETURN:' MOVE INMATE
70 TB=TB-1:IF BO(TB,0)>224 OR BO(TB,0)<16 THEN BO(TB,2)=BO(TB,2)*-1 ELSE IF BO(TB,1)>160 OR BO(TB,1)<16 THEN BO(TB,3)=BO(TB,3)*-1: 'MOVE LIGHTS 
80 BO(TB,0)=BO(TB,0)+BO(TB,2):BO(TB,1)=BO(TB,1)+BO(TB,3):PUTSPRITE TB+1,(BO(TB,0),BO(TB,1)),10,0: 'MOVE LIGHTS
90 IF TB=0 THEN RETURN ELSE GOTO 70: 'MOVE LIGHTS
100 SPRITEOFF:INTERVALOFF:FORL=0TONB-1:IF(ABS(XC-BO(L,0))<31 AND ABS(YC-BO(L,1))<31) THEN 30 ELSE BO(L,2)=BO(L,2)*-1:BO(L,3)=BO(L,3)*-1:BO(L,0)=BO(L,0)+BO(L,2)*4:BO(L,1)=BO(L,1)+BO(L,3)*4:NEXT:SPRITEON:INTERVALON:RETURN:'CHECK COLISION