0010 ' ===============================
0020 ' GAME LOOP 
0030 ' MANOEL NETO 2024
0040 ' ===============================
0050 COLOR 15,1,1
0060 SCREEN 2,2,0
0070 KEY OFF
0080 CLS:DEFINT A-Z
0090 GOSUB 1000 : ' CARREGA SPRITES
0100 ON SPRITE GOSUB 800 : ' COLISOES

0200 ' ******************************'
0210 ' PROPRIEDADES OBJETOS DE TELA  '
0220 ' ******************************'
0230 X=127:Y=174:TIME=0:AN=2
0240 DIM EX(3),EY(3)
0250 FOR I = 1 TO 3
0260   EX(I)=INT(RND(1)*240)
0270   EY(I)=INT(RND(1)*180)
0280 NEXT I

0300 ' ******************************'
0310 ' ENTRADA DO JOGADOR            '
0320 ' ******************************'
0330 ON STICK(TE) GOTO 350,360,370,380,390,400,410,420
0340 GOTO 460
0350 Y=Y-2:GOTO 460
0360 Y=Y-2:X=X+2:GOTO 460
0370 X=X+2:GOTO 460
0380 Y=Y+2:X=X+2:GOTO 460
0390 Y=Y+2:GOTO 460
0400 Y=Y+2:X=X-2:GOTO 460 
0410 X=X-2:GOTO 460
0420 Y=Y-2:X=X-2:GOTO 460
0430 ' ******************************'
0440 ' DETERMINA OS LIMITES DA TELA  '
0450 ' ******************************'
0460 IF X<0 THEN X=0
0470 IF X>250 THEN X=250
0480 IF Y<0 THEN Y=0
0490 IF Y>190 THEN Y=190

0600 ' ******************************'
0610 ' DESENHA OS SPRITES            '
0620 ' ******************************'
0630 IF TIME<1 GOTO 630
0640 SPRITE OFF
0650   PUT SPRITE 0,(X,Y),2,0
0660   PUT SPRITE 1,(X,Y),8,1
0670   FOR I = 1 TO 3
0680    PUT SPRITE I+1,(EX(I),EY(I)),2,AN
0690   NEXT I
0700 SPRITE ON
0710 IF TIME<2 GOTO 680
0720 IF AN=2 THEN AN=3 ELSE AN=2
0730 TIME=0 
0740 GOTO 330

0800 ' ******************************'
0810 ' TRATA AS COLISOES             '
0820 ' ******************************'
0830 SPRITE OFF
0840 COLOR 15,1,1
0850 SCREEN 0
0860 CLS
0870 ?"COLIDIU"
0880 END

1000 ' ******************************'
1010 ' CARREGA DIRETO NO VDP         '
1020 ' ******************************'
1030 S=BASE(9)
1040 READ R$
1050 IF R$="*" THEN RETURN ELSE VPOKE S,VAL("&H"+R$):S=S+1
1060 GOTO 1040

9000 ' ******************************'
9010 ' PADRAO DOS SPRITES            '
9020 ' ******************************'
9030 ' color 2
9040 DATA 00,00,00,00,00,00,00,00
9050 DATA 01,03,07,0F,1E,3C,78,FF
9060 DATA 00,00,00,00,00,00,00,00
9070 DATA 80,C0,E0,F0,78,3C,1E,FF
9080 ' color 8
9090 DATA 00,00,00,00,00,00,00,00
9100 DATA 00,00,00,00,01,03,07,00
9110 DATA 00,00,00,00,00,00,00,00
9120 DATA 00,00,00,00,80,C0,E0,00
9130 ' ALIEN1 - COLOR 2
9140 DATA 00,00,00,00,00,00,01,01
9150 DATA 07,07,07,7F,FF,FF,FF,FF
9160 DATA 00,00,00,00,00,00,80,80
9170 DATA E0,E0,E0,FE,FF,FF,FF,FF
9180 ' ALIEN2 - COLOR 2
9190 DATA 00,00,00,00,00,00,01,01
9200 DATA 07,07,07,7F,FF,FF,FF,FF
9210 DATA 00,00,00,00,00,00,80,80
9220 DATA E0,E0,E0,FE,FF,FF,FF,FF
9230 DATA *

