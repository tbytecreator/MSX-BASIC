0010 ' ===============================
0020 ' GAME LOOP 
0030 ' MANOEL NETO 2024
0040 ' ===============================
0050 COLOR 15,1,1
0060 SCREEN 2,2,0
0070 KEY OFF
0080 CLS:DEFINT A-Z
0090 GOSUB 1000 : ' CARREGA SPRITES
0100 ON SPRITE GOSUB 900 : ' COLISOES

0200 ' ******************************'
0210 ' PROPRIEDADES OBJETOS DE TELA  '
0220 ' ******************************'
0230 X=127:Y=174:TIME=0:AN=2:CM=1
0240 DIM EX(4,3),EY(4,3)
0250 FOR I = 0 TO 4
0260    FOR J = 0 TO 3
0270        EX(I,J)=16+J*20
0280        EY(I,J)=16+I*20
0290    NEXT J
0300 NEXT I

0400 ' ******************************'
0410 ' ENTRADA DO JOGADOR            '
0420 ' ******************************'
0430 ON STICK(TE) GOTO 450,460,470,480,490,500,510,520
0440 GOTO 560
0450 Y=Y-2:GOTO 560
0460 Y=Y-2:X=X+2:GOTO 560
0470 X=X+2:GOTO 560
0480 Y=Y+2:X=X+2:GOTO 560
0490 Y=Y+2:GOTO 560
0500 Y=Y+2:X=X-2:GOTO 560 
0510 X=X-2:GOTO 560
0520 Y=Y-2:X=X-2:GOTO 560
0530 ' ******************************'
0540 ' DETERMINA OS LIMITES DA TELA  '
0550 ' ******************************'
0560 IF X<0 THEN X=0
0570 IF X>239 THEN X=239
0580 IF Y<0 THEN Y=0
0590 IF Y>190 THEN Y=190

0600 ' ******************************'
0610 ' ATUALIZA AS COORDENADAS       '
0620 ' ******************************'
0630 FOR I = 0 TO 4
0640    FOR J = 0 TO 3
0650        EX(I,J)=EX(I,J)+20
0660    NEXT J
0670 NEXT I

0700 ' ******************************'
0710 ' DESENHA O FRAME               '
0720 ' ******************************'
0740 SPRITE OFF:CM=1
0750   PUT SPRITE 0,(X,Y),6,0
0760   FOR I = 0 TO 4
0770     FOR J = 0 TO 3
0780       PUT SPRITE CM,(EX(I,J),EY(I,J)),3,AN
0790       CM=CM+1
0800     NEXT J
0810   NEXT I
0820 SPRITE ON
0830 IF TIME<2 GOTO 830
0840 IF AN=1 THEN AN=2 ELSE AN=1
0850 TIME=0 
0860 GOTO 400 

0900 ' ******************************'
0910 ' TRATA AS COLISOES             '
0920 ' ******************************'
0930 SPRITE OFF
0940 COLOR 15,1,1
0950 SCREEN 0
0960 CLS
0970 ?"COLIDIU"
0980 END

1000 ' ******************************'
1010 ' CARREGA DIRETO NO VDP         '
1020 ' ******************************'
1030 S=BASE(9)
1040 READ R$
1050 IF R$="*" THEN RETURN ELSE VPOKE S,VAL("&H"+R$):S=S+1
1060 GOTO 1040

9000 ' ******************************'
9010 ' PADRAO DOS SPRITES            '
9020 ' ******************************'
9030 ' CANHAO - COLOR 6
9040 DATA 00,00,00,00,00,00,01,01
9050 DATA 07,07,07,7F,FF,FF,FF,FF
9060 DATA 00,00,00,00,00,00,80,80
9070 DATA E0,E0,E0,FE,FF,FF,FF,FF
9130 ' ALIEN 1-1 - COLOR 3
9140 DATA 00,01,07,1F,13,3F,7F,7E
9150 DATA 1C,18,20,30,18,0C,06,02
9160 DATA 00,80,E0,F8,C8,FC,FE,7E
9170 DATA 38,18,04,0C,18,30,60,40
9180 ' ALIEN 1-2 - COLOR 3
9190 DATA 00,01,07,1F,13,3F,7F,7F
9200 DATA 1F,03,06,0C,18,30,60,40
9210 DATA 00,80,E0,F8,C8,FC,FE,FE
9220 DATA F8,C0,60,30,18,0C,06,02
9999 DATA *

